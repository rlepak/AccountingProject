<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <div th:replace="/fragments/cssFragment :: cssFragments"></div>
    <title>User Registration</title>
</head>


<body>
<div class="wrapper">

    <div th:replace="/fragments/leftSidebar :: left-sidebar"></div>

    <div class="main-panel">

        <div th:replace="/fragments/header :: header"></div>

        <div class="content">
            <div class="container-fluid">
                <div class="row">

                    <!-- Content start here -->
                    <div class="content">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="card">
                                        <div class="card-content">
                                            <div class="toolbar">
                                                <!--Here you can write extra buttons/actions for the toolbar-->
                                            </div>
                                            <div class="d-grid gap-2 col-6 mx-auto">
                                                <a th:href="@{/user/addUser}">
                                                    <button class="btn btn-primary" type="button" th:href="login">+ Add User</button>
                                                </a>
                                            </div>

                                            <table id="bootstrap-table" class="table" th:object="${users}">
                                                <thead>
                                                <th data-field="id" class="text-center">ID</th>
                                                <th data-field="firstname" data-sortable="true">First Name</th>
                                                <th data-field="lastname" data-sortable="true">Last Name</th>
                                                <th data-field="email" data-sortable="true">Email</th>
                                                <th data-field="role">Role</th>
                                                <th data-field="corp">Corp</th>
                                                <th data-field="status">Status</th>
                                                <th data-field="edit">Edit</th>
                                                <th data-field="delete">Delete</th>
                                                </thead>
                                                <tbody>
                                                <tr th:each="user : ${users}">
                                                    <td th:text="${users.indexOf(user)+1}"></td>
                                                    <td th:text="${user.firstName}"></td>
                                                    <td th:text="${user.lastName}"></td>
                                                    <td th:text="${user.email}"></td>
                                                    <td th:text="${user.role.description}"></td>
                                                    <td th:text="${user.company.title}"></td>
                                                    <td th:switch="${user.status.value}">
                                                        <button th:case="Active" class="btn btn-xs btn-success">Active</button>
                                                        <button th:case="Closed" class="btn btn-xs btn-danger">Closed</button>
                                                    </td>
                                                    <td><a th:href="@{/user/update/{id}(id=${user.id})}" class="btn btn-simple btn-warning btn-icon table-action edit ti-pencil-alt"></a></td>
                                                    <td><a th:href="@{/user/delete/{email}(email=${user.email})}" class="btn btn-simple btn-danger btn-icon table-action edit ti-trash"></a></td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div><!--  end card  -->
                                </div> <!-- end col-md-12 -->
                            </div> <!-- end row -->
                        </div>
                    </div>

                    <!-- Content end here -->

                </div>
            </div>
        </div>
        <footer class="footer">
            <div th:replace="/fragments/footer :: footer"></div>
        </footer>
    </div>
</div>
</body>
<div th:replace="/fragments/jsFragment :: jsFragments"></div>
</html>
